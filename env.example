# Database Configuration
DATABASE_URL=postgresql://user:password@localhost:5432/calendar_booking_db

# Security
SERVICE_API_KEY=your-secret-api-key-here-change-in-production
SERVICE_API_KEYS=key1,key2  # Optional comma-separated keys for rotation
API_KEY_RATE_LIMIT_PER_MINUTE=120
API_KEY_RATE_LIMIT_BURST=30

# Google Calendar Configuration
# Path to service account JSON credentials file
GOOGLE_CALENDAR_CREDENTIALS_PATH=./credentials/google-service-account.json
# Admin email for domain-wide delegation
GOOGLE_CALENDAR_DELEGATED_ADMIN_EMAIL=admin@yourdomain.com

# Webhook Configuration (for two-way calendar sync)
# Your public domain URL (must be HTTPS for production)
WEBHOOK_BASE_URL=https://yourdomain.com
# Secret token for webhook verification (generate a random secure string)
GOOGLE_CALENDAR_WEBHOOK_SECRET=your-random-webhook-secret-token-here

# RAG Service Configuration (Optional)
RAG_SERVICE_URL=http://localhost:8001/api/v1
RAG_SERVICE_API_KEY=your-rag-service-api-key

# Redis (optional, for chatbot conversation state)
REDIS_URL=redis://localhost:6379

# CORS
CORS_ALLOW_ORIGINS=http://localhost:3000,http://localhost:8001

# Application Configuration
APP_NAME=Calendar Booking Service
APP_VERSION=1.0.0
DEBUG=False

# Availability search constraints
MAX_AVAILABILITY_DAYS=30
MAX_AVAILABILITY_RESULTS=200
MAX_LIST_LIMIT=200

# Calendar sync worker
CALENDAR_SYNC_MAX_RETRIES=5
CALENDAR_SYNC_RETRY_BASE_SECONDS=15
CALENDAR_SYNC_POLL_INTERVAL_SECONDS=5

# Calendar reconcile worker (Google Calendar -> DB backfill)
CALENDAR_RECONCILE_ENABLED=True
CALENDAR_RECONCILE_INTERVAL_SECONDS=900
CALENDAR_RECONCILE_BATCH_SIZE=50
CALENDAR_RECONCILE_REQUIRE_ACTIVE_WATCH=True

# Timezone
DEFAULT_TIMEZONE=UTC
